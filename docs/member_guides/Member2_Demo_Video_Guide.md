# 组员 2：演示视频录制指南（侧重数据库功能展示）

## 1. 演示目标
本视频的核心目标是向老师/评委证明：**系统不仅仅是一个精美的网页，其底层具备严谨的数据库设计逻辑。** 我们需要重点展示：
- **身份验证逻辑**：用户名/邮箱的双渠道登录。
- **数据一致性**：注册时的唯一性校验。
- **存算分离架构**：数据库存储元数据，R2 存储实体（通过“违规下架”功能证明）。
- **多维关联查询**：文件排序、日志审计、配额分配。

---

## 2. 准备工作
- **环境**：建议录制桌面端全屏，并准备一个手机模拟器（或 Chrome 控制台的手机模式）展示响应式。
- **初始数据**：确保数据库中已有部分模拟用户和文件，显得系统“内容丰富”。
- **工具**：OBS 或系统自带录屏，录制时长控制在 **5-7 分钟**。

---

## 3. 核心演示脚本（按步骤）

### 第一幕：用户体系与唯一性约束 (展示 Users 表)
1.  **操作**：尝试注册一个**已经存在**的用户名。
2.  **解说词**：*“首先展示系统的账号唯一性校验。我们在数据库 `users` 表的 `name` 字段设置了 `UNIQUE` 约束，因此系统会拒绝重复注册，确保身份唯一。”*
3.  **操作**：使用**邮箱**登录，然后登出，再使用**用户名**登录。
4.  **解说词**：*“系统支持双渠道身份识别，后端会根据输入内容自动匹配邮箱或用户名索引，提升了用户体验。”*

### 第二幕：存算分离与元数据管理 (展示 Files 表)
1.  **操作**：进入文件夹，点击“上传”，选择一个文件。在点击“开始上传”前，再次点击“选择文件”添加另一个文件（展示追加选择而非覆盖）。
2.  **解说词**：*“上传时，文件实体流向 Cloudflare R2 对象存储，而文件的名称、MIME 类型、存储 Key 等元数据实时写入 D1 数据库。同时我们优化了交互体验，支持在同一批次中多次选择文件并自动追加，而非简单的覆盖。这展示了系统对用户操作状态的精细管理。”*
3.  **操作**：切换排序方式（按大小、按时间、按类型）。
4.  **解说词**：*“这里展示了数据库的高效检索能力。通过 `ORDER BY` 动态指令，我们可以瞬间完成数千条元数据记录的多维排序。”*

### 第三幕：复杂关联逻辑 (展示 Shares & Files 关联)
1.  **操作**：生成一个 6 位提取码，并开启“匿名提取”页面输入代码。
2.  **解说词**：*“分享功能体现了 `shares` 表与 `files` 表的外键关联。系统通过 6 位提取码索引，快速锁定文件的存储 Key 并生成带权限的下载链接。”*

### 第四幕：管理员审计与“违规下架” (核心亮点)
1.  **操作**：切换到管理员面板，查看“系统日志”。
2.  **解说词**：*“管理员拥有最高审计权限。系统日志表记录了所有敏感操作的 IP、时间及结果，确保数据变动可追溯。”*
3.  **操作**：点击一个文件的“下架”按钮。
4.  **解说词**：*“这是本设计的亮点：违规下架逻辑。当点击下架时，系统会物理删除 R2 中的文件，但保留数据库记录，并将其状态修改为‘违规’，同时重命名元数据作为占位符。这证明了我们对文件生命周期的精细化控制。”*

---

## 4. 技术重点话术 (录制时记得提及)
- **无服务器（Serverless）**：提到 D1 数据库无需连接池管理，天然支持高并发。
- **HMAC 算法**：提到管理员生成重置令牌是基于服务端 HMAC-SHA256 算法，保证了安全性。
- **响应式 UI**：顺便展示手机端操作，提到“全平台适配”的数据库交互设计。

---

## 5. 组员 2 录制贴士
- **不要冷场**：一边操作一边解释背后的数据库逻辑。
- **展示反馈**：当数据库报错（如唯一性冲突）时，一定要在视频中停留 2 秒，展示系统的错误提示。
- **画画清晰**：确保代码和文字清晰可见，尤其是 16 位令牌和提取码的部分。

